# ... (Ø¯Ø§Ø®Ù„ Ø¬Ø²Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¨Ø¹Ø¯ Ø³Ø·Ø± interpreter.invoke())

# --- Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø´ÙƒÙ„ Ù…Ø±Ù† ---
output_data = interpreter.get_tensor(output_details[0]['index'])[0]

st.markdown("<div class='report-card'>", unsafe_allow_html=True)
st.subheader("ğŸ“‹ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ´Ø®ÙŠØµÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:")
st.markdown("---")

# -----------------------------------------------------
# --- Ø§Ù„Ø­Ù„: ÙØ­Øµ Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙŠÙ… Ù‚Ø¨Ù„ Ø§Ù„ØªÙØ³ÙŠØ± ---
# -----------------------------------------------------

# 1. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙŠØ®Ø±Ø¬ 3 Ù‚ÙŠÙ… (Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ)
if len(output_data) == 3:
    prob_salam, prob_hamid, prob_khabit = output_data
    
    # Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ù„Ù„Ø­Ø°Ø± Ø§Ù„Ø·Ø¨ÙŠ
    if prob_khabit > 0.30:
        st.error(f"ğŸš¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©: ÙˆØ±Ù… Ø®Ø¨ÙŠØ« (Malignant)")
        st.write("âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: ØªÙ… Ø±ØµØ¯ Ù…Ø¤Ø´Ø±Ø§Øª Ù„Ø¢ÙØ© ØªØ³ØªØ¯Ø¹ÙŠ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø·Ø¨ÙŠ Ø§Ù„ÙÙˆØ±ÙŠ.")
    elif prob_hamid > prob_salam:
        st.warning(f"ğŸ” Ø§Ù„Ù†ØªÙŠØ¬Ø©: ÙˆØ±Ù… Ø­Ù…ÙŠØ¯ (Benign)")
        st.write("Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø£ÙŠ ØªØºÙŠØ± ÙÙŠ Ø´ÙƒÙ„ Ø§Ù„Ø¢ÙØ©.")
    else:
        st.balloons()
        st.success(f"âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©: Ø³Ù„ÙŠÙ… (Normal)")
        st.write("Ø§Ù„Ø¬Ù„Ø¯ Ø³Ù„ÙŠÙ….")

# 2. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙŠØ®Ø±Ø¬ Ù‚ÙŠÙ…Ø© ÙˆØ§Ø­Ø¯Ø© (Ù…ÙˆØ¬Ø¨/Ø³Ø§Ù„Ø¨)
elif len(output_data) == 1:
    prediction = output_data[0]
    if prediction > 0.5:
        st.error(f"ğŸš¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©: Ù…Ø¤Ø´Ø±Ø§Øª ÙˆØ±Ù… (Suspicious)")
        st.write("âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ø¨ÙŠØ¨ Ù„Ù„ÙØ­Øµ.")
    else:
        st.success(f"âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©: Ø³Ù„ÙŠÙ… (Normal)")
        st.write("Ø§Ù„Ø¬Ù„Ø¯ Ø³Ù„ÙŠÙ….")

# 3. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙŠÙ… Ù…Ø®ØªÙ„ÙØ§Ù‹ ØªÙ…Ø§Ù…Ø§Ù‹
else:
    st.error("âš ï¸ Ø®Ø·Ø£ ÙÙŠ ØªÙØ³ÙŠØ± Ù…Ø®Ø±Ø¬Ø§Øª Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙŠÙ… ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹).")
    st.write(f"Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙŠØ®Ø±Ø¬ {len(output_data)} Ù‚ÙŠÙ…ØŒ Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ 1 Ø£Ùˆ 3.")
    st.write(f"Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø®Ø§Ù…: {output_data}")

st.markdown("---")
st.markdown("</div>", unsafe_allow_html=True)

